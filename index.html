<!DOCTYPE html>
<html>
<head>
  <title>RadioPodcast : Écouter Radios et Podcasts live sur internet et iPhone</title>
  <link rel="apple-touch-icon" href="http://radiopodcast.fr/images/RP_logo_web.png"/>  
    
	<meta http-equiv="content-script-type" content="text/javascript">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">  
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="apple-mobile-web-app-capable" content="yes" />

	<meta name="description" content="100% radio : Écoutez en live vos radios et podcasts préférés quand vous voulez !" />
  <meta name="keywords" content="radio, podcast, radiopodcast, écouter, radios, podcasts, nrj, fun, funradio, virgin, virginradio, virgin radio, europe, europe 1, rtl, france, france inter, inter, france culture, culture, sky, skyrock, rock, pop, hip hop, rap, électro, variété, jazz, chérie, fm, chérie fm, tuner, fréquence, française, français, live, direct, oui, oui fm, radio fg, fg, radiofg, radionova, nova, ado, adofm, bfm, fip, génération, mfm, rfm, rire & chansons, rtl2, iphone, stream, voltage" />
  <meta name="csrf-param" content="authenticity_token"/>
	<meta name="csrf-token" content="AIUyURH8Cv8NvYAvRbEx8QaE6oREXA2ygcHGjveEh3s="/>

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		$(function(){
			baseURL = "http://radiopodcast.com";
			$.getJSON(baseURL+'/radios.json', function(data) {
		    $.each(data, function(i,item){
		    	if (!item.radio.hide) {
						var radio = $(".radio:first").clone(true);
						radio.find("figcaption").text(item.radio.name);
						radio.find("#img").hide();
						radio.find(".logo").css("background-image", "url("+baseURL+item.radio.logo_url+")");
						radio.css("display", "none");
						$.get(baseURL+item.radio.stream_permalink+".xml", function(data) {
							source = $(data).find("location").html();
							if (source == undefined || source == "") {
								radio.remove();
							} else {
								radio.find("audio").attr("src", source);
							}
						}, "text");
						radio.appendTo('#radios');
					}
		    });
		  });
			
			if (window.navigator.standalone == true) {  $("header").fadeOut(); } else { $("header").fadeIn();}
			
			$(".logo").click(function(e) {
				audio = $(this).parent().parent().children("audio");
				// console.log(audio.first().attr("src"));
				if (audio.hasClass("show")) {
					audio[0].pause();
					audio.removeClass("show");
				} else {
					audio[0].play();

					$(audio).bind('playing', function() {
						$(this).parent().find(".speaker").fadeIn();
					});

					$(audio).bind('pause', function() {
						$(this).parent().find(".speaker").fadeOut();
					});
					audio.addClass("show");
				}
				
				$("audio").each(function(index, value) {
					if (audio[0] != value) {
						$(value).removeClass("show");
						value.pause();
					}
				});
			});
			
			$("audio").each(function(index, value) {
				$(value).bind('canplay', function() {
				  if ($(".radio:first").find("figcaption").html() == "") {
						$(".radio:first").remove();
					}
					$(this).parent().first().css("display", "inline");
				});
			});
			
		});
	</script>
	<style type="text/css">
		body				 					{ font-family: Lucida Grande; font-size: 10px; }                                        
		.logo				 					{ float:left; width:90px; height:90px; background:no-repeat; }                                                      
		.speaker		 					{ margin: -2px 0px 0px 5px; width:inherit; height:inherit; background:url(speaker.svg) no-repeat; display:none; }   
		audio 			 					{ width:inherit; position: relative; top: -45px; display:none; }                                                      
			.radio audio.show 	{ opacity: .6; }
		.radio		 	 					{ text-align: center; width:100px; height:125px; float:left; }            
		figure img 	 					{ //display:none; }    
		figcaption						{ clear:both; margin-right:10px;}                                                                                         

		/* position the bars and balls correctly (rotate them and translate them outward)*/
		.bar1 {
		  -moz-transform:rotate(0deg) translate(0, -40px);
		  -webkit-transform:rotate(0deg) translate(0, -40px);opacity:0.12;
		}
		.bar2 {
		  -moz-transform:rotate(45deg) translate(0, -40px);
		  -webkit-transform:rotate(45deg) translate(0, -40px);opacity:0.25;
		}
		.bar3 {
		  -moz-transform:rotate(90deg) translate(0, -40px);
		  -webkit-transform:rotate(90deg) translate(0, -40px);opacity:0.37;
		}
		.bar4 {
		  -moz-transform:rotate(135deg) translate(0, -40px);
		  -webkit-transform:rotate(135deg) translate(0, -40px);opacity:0.50;
		}
		.bar5 {
		  -moz-transform:rotate(180deg) translate(0, -40px);
		  -webkit-transform:rotate(180deg) translate(0, -40px);opacity:0.62;
		}
		.bar6 {
		  -moz-transform:rotate(225deg) translate(0, -40px);
		  -webkit-transform:rotate(225deg) translate(0, -40px);opacity:0.75;
		}
		.bar7 {
		  -moz-transform:rotate(270deg) translate(0, -40px);
		  -webkit-transform:rotate(270deg) translate(0, -40px);opacity:0.87;
		}
		.bar8 {
		  -moz-transform:rotate(315deg) translate(0, -40px);
		  -webkit-transform:rotate(315deg) translate(0, -40px);opacity:1;
		}
		
		#img {
		  position:relative;
		  width:100px;
		  height:100px;
		  margin-bottom:.22em;
		  -moz-border-radius:100px;
		  float:left;
		  -moz-transform:scale(0.5);
		  -webkit-transform:scale(0.5);
		}
		#img div {
		  width:10px;
		  height:30px;
		  background:#000;
		  position:absolute;
		  top:35px;
		  left:45px;
		}
		#img {
		  -webkit-animation-name: rotateThis;
		  -webkit-animation-duration:2s;
		  -webkit-animation-iteration-count:infinite;
		  -webkit-animation-timing-function:linear;
		}
		@-webkit-keyframes rotateThis {
		  from {-webkit-transform:scale(0.5) rotate(0deg);}
		  to {-webkit-transform:scale(0.5) rotate(360deg);}
		} 
	</style>
  </head>
  <body>
  	<!-- <header>Ajoutez cette application à votre écran de démarrage pour en profiter pleinement.</header> -->
		<div id="radios">
			<div class="radio">
				<figure>
					<div id="img">
						<div class="bar1"></div>
						<div class="bar2"></div>
						<div class="bar3"></div>
						<div class="bar4"></div>
						<div class="bar5"></div>
						<div class="bar6"></div>
						<div class="bar7"></div>
						<div class="bar8"></div>
					</div>
					<div class="logo"><div class="speaker"></div></div>
					<p><figcaption></figcaption></p>
				</figure>		
				<audio controls preload="auto" autobuffer></audio>
			</div>
  </body>
</html>